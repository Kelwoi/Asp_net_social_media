@inject PimpleNet.Data.AppDb _context
<!DOCTYPE html>

@{
    int? userId = Context.Session.GetInt32("UserId");
    var currentUser = userId.HasValue ? _context.Users.FirstOrDefault(u => u.Id == userId.Value) : null;
}
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - pimple</title>
    <link href="~/images//logo.png" rel="icon" type="image" />

    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/tailwind.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Social_Media.styles.css" asp-append-version="true" />
</head>
<body>

    <div id="wrapper">

        @if (currentUser != null)
        {
            <partial name="Navigation/_TopBar" model="currentUser" />
            <partial name="Navigation/_SideBar"/>
        }

        @RenderBody()




    </div>


    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

    @*scripts*@
    <script src="~/js/uikit.min.js"></script>
    <script src="~/js/simplebar.js"></script>
    <script src="~/js/script.js"></script>

    <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
